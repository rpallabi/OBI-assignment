(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{3639:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return r(8137)}])},5872:function(e,s,r){"use strict";r.d(s,{Z:function(){return c}});var a=r(5893),n=r(1664),t=r.n(n);function c(){return(0,a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(t(),{href:"/home",className:"navbar-brand",children:"E-Commerce"}),(0,a.jsx)("div",{className:"collapse navbar-collapse",children:(0,a.jsxs)("ul",{className:"navbar-nav ms-auto",children:[(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(t(),{href:"/products",className:"nav-link",children:"Products"})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(t(),{href:"/cart",className:"nav-link",children:"Cart"})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(t(),{href:"/history",className:"nav-link",children:"Order History"})})]})})]})})}},8137:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return c}});var a=r(5893),n=r(7294),t=r(5872);function c(){let[e,s]=(0,n.useState)(null),[r,c]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=sessionStorage.getItem("userData");if(e){let r=Number(JSON.parse(e).id);s(r),l(r)}},[]);let l=e=>{fetch("http://localhost:3001/orders").then(e=>e.json()).then(s=>{c(s.filter(s=>s.customerId===e))}).catch(e=>{console.error("Failed to fetch customer orders:",e)})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.Z,{}),(0,a.jsxs)("div",{className:"container mt-5",children:[(0,a.jsx)("h2",{children:"Order History"}),0===r.length?(0,a.jsx)("p",{children:"No orders found."}):r.map(e=>(0,a.jsxs)("div",{className:"card mb-4 shadow-sm",children:[(0,a.jsx)("div",{className:"card-header bg-primary text-white",children:(0,a.jsxs)("h5",{className:"mb-0",children:["Order #",e.id]})}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Customer ID:"})," ",e.customerId]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Created At:"})," ",new Date(e.createdAt).toLocaleString()]}),(0,a.jsx)("h6",{className:"mt-4",children:"Items:"}),(0,a.jsxs)("table",{className:"table table-bordered table-striped",children:[(0,a.jsx)("thead",{className:"table-light",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"#"}),(0,a.jsx)("th",{children:"Product ID"}),(0,a.jsx)("th",{children:"Quantity"})]})}),(0,a.jsx)("tbody",{children:e.items.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:s+1}),(0,a.jsx)("td",{children:e.productId}),(0,a.jsx)("td",{children:e.quantity})]},e.id))})]})]})]},e.id))]})]})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=3639)}),_N_E=e.O()}]);